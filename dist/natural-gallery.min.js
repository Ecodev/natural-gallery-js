!function e(t,n,i){function o(u,a){if(!n[u]){if(!t[u]){var l="function"==typeof require&&require;if(!a&&l)return l(u,!0);if(r)return r(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[u]={exports:{}};t[u][0].call(c.exports,function(e){var n=t[u][1][e];return o(n?n:e)},c,c.exports,e,t,n,i)}return n[u].exports}for(var r="function"==typeof require&&require,u=0;u<i.length;u++)o(i[u]);return o}({"/Users/sam/sites/rue-avenir.lan/htdocs/typo3conf/ext/natural_gallery/Resources/Public/natural-gallery-js/cache/build.js":[function(e,t,n){var i,o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};!function(e){var t;!function(e){var t=function(){function t(){this.old_scroll_top=0;var t=document.getElementsByClassName("pswp")[0];naturalGalleries.forEach(function(n,i){naturalGalleries[i]=new e.Gallery(i,n.options,n.categories,t),n.images&&n.images.constructor===Array&&n.images.length&&(naturalGalleries[i].collection=n.images)}),this.bindEvents()}return t.prototype.resize=function(){naturalGalleries.forEach(function(e){e.resize()})},t.prototype.bindEvents=function(){var e=this;1==naturalGalleries.length&&0===naturalGalleries[0].options.limit&&document.addEventListener("scroll",function(){var t=naturalGalleries[0],n=t.rootElement.offsetTop+t.rootElement.offsetHeight+60,i=(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0),o=window.innerHeight,r=i-e.old_scroll_top;e.old_scroll_top=i,r>0&&i+o>n&&naturalGalleries[0].addElements(1)})},t}();e.Controller=t}(t=e.Gallery||(e.Gallery={}))}(i||(i={}));var i;!function(e){var t;!function(e){var t=function(){function t(t,n,i,o){void 0===i&&(i=[]),this._options={rowHeight:350,format:"natural",round:3,imagesPerRow:4,margin:3,limit:0,showLabels:"hover",lightbox:!0,minRowsAtStart:2,showCount:!1,searchFilter:!1,categoriesFilter:!1,showNone:!1,showOthers:!1},this._pswpContainer=[],this._collection=[],this._categories=[],this.pswpElement=o;for(var r in this.options)"undefined"==typeof n[r]&&(n[r]=this.options[r]);this.options=n,this.position=t,this.categories=i,this.rootElement=document.getElementsByClassName("natural-gallery").item(this.position),(this.options.searchFilter||this.options.categoriesFilter||this.options.showCount)&&(this.header=new e.Header(this),this.options.searchFilter&&this.header.addFilter(new e.SearchFilter(this.header)),this.options.categoriesFilter&&this.header.addFilter(new e.CategoryFilter(this.header))),this.render(),this.bodyWidth=Math.floor(this.bodyElement.getBoundingClientRect().width)}return t.prototype.render=function(){var t=this,n=document.createElement("div");e.Utility.addClass(n,"natural-gallery-noresults"),n.appendChild(e.Utility.getIcon("icon-noresults"));var i=document.createElement("div");e.Utility.addClass(i,"natural-gallery-next"),i.appendChild(e.Utility.getIcon("icon-next")),i.addEventListener("click",function(e){e.preventDefault(),t.addElements()});var o=document.createElement("iframe");o.addEventListener("load",function(){var e=null;this.contentWindow.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){t.resize()},100)})}),this.bodyElement=document.createElement("div"),e.Utility.addClass(this.bodyElement,"natural-gallery-body"),this.bodyElement.appendChild(n),this.header&&this.rootElement.appendChild(this.header.render()),this.rootElement.appendChild(this.bodyElement),this.rootElement.appendChild(i),this.rootElement.appendChild(o)},t.prototype.appendItems=function(t){var n=!1;0===this.collection.length&&(n=!0),t.forEach(function(t){this.collection.push(new e.Item(t,this))},this),e.Organizer.organize(this),this.header&&this.header.refresh(),n&&this.addElements()},t.prototype.style=function(){this.collection.forEach(function(e){e.style()})},t.prototype.addElements=function(e){void 0===e&&(e=null);var t=this.collection,n=this.rootElement.getElementsByClassName("natural-gallery-next")[0];if(n.style.display="block",this.pswpContainer.length===t.length)return n.style.display="none",void(0===t.length&&(this.rootElement.getElementsByClassName("natural-gallery-noresults")[0].style.display="block",this.rootElement.getElementsByClassName("natural-gallery-images")[0].style.display="none"));e||(e=this.getRowsPerPage(this));for(var i=this.pswpContainer.length,o=this.pswpContainer.length?t[i].row+e:e,r=i;r<t.length;r++){var u=t[r];u.row<o&&(this.pswpContainer.push(u.getPswpItem()),this.bodyElement.appendChild(u.getElement()),u.bindClick(),u.flash()),this.pswpContainer.length===t.length&&(n.style.display="none")}var a=this.rootElement.getElementsByClassName("natural-gallery-noresults")[0];a&&(a.style.display="none");var l=this.rootElement.getElementsByClassName("natural-gallery-images")[0];l&&(l.style.display="block");var s=this.rootElement.getElementsByClassName("natural-gallery-visible")[0];s&&(s.textContent=String(this.pswpContainer.length));var c=this.rootElement.getElementsByClassName("natural-gallery-total")[0];c&&(c.textContent=String(t.length))},t.prototype.getRowsPerPage=function(e){if(this.options.limit)return this.options.limit;var t=window.outerHeight,n=t-e.bodyElement.offsetTop,i=Math.floor(n/(.7*this.options.rowHeight));return i<this.options.minRowsAtStart?this.options.minRowsAtStart:i},t.prototype.resize=function(){var t=Math.floor(this.bodyElement.getBoundingClientRect().width);if(t!=this.bodyWidth){this.bodyWidth=t,e.Organizer.organize(this);var n=this.collection[this.pswpContainer.length-1].row+1;this.reset(),this.addElements(n)}},t.prototype.refresh=function(){this.reset(),e.Organizer.organize(this),this.addElements()},t.prototype.reset=function(){this.pswpContainer=[];for(var e=this.bodyElement.getElementsByTagName("figure"),t=e.length-1;t>=0;t--)e[t].parentNode.removeChild(e[t]);var n=this.rootElement.getElementsByClassName("natural-gallery-noresults")[0];n&&(n.style.display="none")},Object.defineProperty(t.prototype,"pswpContainer",{get:function(){return this._pswpContainer},set:function(e){this._pswpContainer=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collection",{get:function(){return this.header&&this.header.isFiltered()?this.header.collection:this._collection},set:function(e){this._collection=[],this.appendItems(e)},enumerable:!0,configurable:!0}),t.prototype.getOriginalCollection=function(){return this._collection},Object.defineProperty(t.prototype,"bodyWidth",{get:function(){return this._bodyWidth},set:function(e){this._bodyWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bodyElement",{get:function(){return this._bodyElement},set:function(e){this._bodyElement=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootElement",{get:function(){return this._rootElement},set:function(e){this._rootElement=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pswpApi",{get:function(){return this._pswpApi},set:function(e){this._pswpApi=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pswpElement",{get:function(){return this._pswpElement},set:function(e){this._pswpElement=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(e){this._options=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this._header},set:function(e){this._header=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"categories",{get:function(){return this._categories},set:function(e){this._categories=e},enumerable:!0,configurable:!0}),t}();e.Gallery=t}(t=e.Gallery||(e.Gallery={}))}(i||(i={}));var i;!function(e){var t;!function(e){var t=function(){function t(e,t){this.fields=e,this.gallery=t,this._binded=!1,this.id=e.id,this.thumbnail=e.thumbnail,this.enlarged=e.enlarged,this.title=e.title,this.tWidth=e.tWidth,this.tHeight=e.tHeight,this.eWidth=e.eWidth,this.eHeight=e.eHeight,this.categories=e.categories,this.last=e.last,this.createElement()}return t.prototype.createElement=function(){var t=this,n=document.createElement("figure");e.Utility.addClass(n,"loading visible");var i=document.createElement("a");i.style.backgroundImage="url("+this.thumbnail+")";var o=this.gallery.options;if(o.lightbox&&i.setAttribute("href",this.enlarged),o.round){var r=String(o.round+"px");n.style.borderRadius=r,i.style.borderRadius=r}if(n.appendChild(i),this.title&&("true"==o.showLabels||"hover"==o.showLabels)){var u=document.createElement("span");u.textContent=this.title,"hover"==o.showLabels&&e.Utility.addClass(u,"hover"),n.appendChild(u)}this.element=n,this.image=i;var a=document.createElement("img");a.setAttribute("data-id",this.id+""),a.setAttribute("src",this.thumbnail),a.addEventListener("load",function(){e.Utility.toggleClass(t.element,"loading"),e.Utility.toggleClass(t.element,"loaded")})},t.prototype.style=function(){e.Utility.removeClass(this.element,"visible"),this.element.style.width=String(this.width+"px"),this.element.style.height=String(this.height+"px"),this.element.style.marginRight=String(this.gallery.options.margin+"px"),this.element.style.marginBottom=String(this.gallery.options.margin+"px"),this.last&&(this.element.style.marginRight="0"),this.image.style.width=String(this.width+"px"),this.image.style.height=String(this.height+"px");var t=this;window.setTimeout(function(){e.Utility.addClass(t.element,"visible")},0)},t.prototype.flash=function(){var t=this;e.Utility.removeClass(this.element,"visible"),window.setTimeout(function(){e.Utility.addClass(t.element,"visible")},0)},t.prototype.bindClick=function(){var e=this;if(!this.binded){this.binded=!0;var t=function(t){e.openPhotoSwipe.call(e,t,this)};this.element.addEventListener("click",t)}},t.prototype.openPhotoSwipe=function(e,t){if(e.preventDefault(),this.gallery.options.lightbox){var n=Array.prototype.slice.call(t.parentNode.children),i=n.indexOf(t)-1,o={index:i,bgOpacity:.85,showHideOpacity:!0,loop:!1},a=new r(this.gallery.pswpElement,u,this.gallery.pswpContainer,o);this.gallery.pswpApi=a,a.init();var l=null;a.listen("beforeChange",function(e){e>0&&a.getCurrentIndex()==a.items.length-1?this.gallery.addElements():e===-1*(a.items.length-1)&&(l=a.items.length,this.gallery.addElements())}),a.listen("afterChange",function(){l&&(a.goTo(l),l=null)})}},t.prototype.getPswpItem=function(){return{src:this._enlarged,w:this._eWidth,h:this._eHeight,title:this._title}},t.prototype.getElement=function(){return this.element},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbnail",{get:function(){return this._thumbnail},set:function(e){this._thumbnail=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enlarged",{get:function(){return this._enlarged},set:function(e){this._enlarged=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){this._title=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tWidth",{get:function(){return this._tWidth},set:function(e){this._tWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tHeight",{get:function(){return this._tHeight},set:function(e){this._tHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eWidth",{get:function(){return this._eWidth},set:function(e){this._eWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eHeight",{get:function(){return this._eHeight},set:function(e){this._eHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._last},set:function(e){this._last=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"categories",{get:function(){return this._categories},set:function(e){this._categories=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this._row},set:function(e){this._row=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this._description},set:function(e){this._description=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binded",{get:function(){return this._binded},set:function(e){this._binded=e},enumerable:!0,configurable:!0}),t}();e.Item=t}(t=e.Gallery||(e.Gallery={}))}(i||(i={}));var i;!function(e){var t;!function(e){var t;!function(e){function t(e){"natural"==e.options.format?this.organizeNatural(e.collection,e.bodyWidth,e.options.rowHeight,e.options.margin):"square"==e.options.format&&this.organizeSquare(e.collection,e.bodyWidth,e.options.imagesPerRow,e.options.margin),e.style()}function n(e,t,n,i){i||(i=0),n||(n=4);for(var o=(t-(n-1)*i)/n,r=0;r<e.length;r++){var u=e[r];u.width=Math.floor(o),u.height=Math.floor(o),u.last=r%n===n-1,u.row=Math.floor(r/n)}}function i(e,t,n,i,o){void 0===o&&(o=null),o||(o=0),i||(i=0),n||(n=300);for(var r=1;r<=e.length;r++){var u=e.slice(0,r),a=this.getRowWidth(n,i,u);if(a>=t){this.computeSizes(u,t,i,o),this.organizeNatural(e.slice(r),t,n,i,o+1);break}if(r==e.length){this.computeSizes(u,null,i,o,n);break}}}function o(e,t,n,i,o){void 0===o&&(o=null);for(var r=t?this.getRowHeight(t,n,e):o,u=this.getRowWidth(r,n,e),a=t?this.apportionExcess(e,t,u):0,l=0,s=0;s<e.length;s++){var c=e[s],d=this.getImageRatio(c)*r-a;l+=d-Math.floor(d),d=Math.floor(d),(l>=1||s===e.length-1&&1===Math.round(l))&&(d++,l--),c.width=d,c.height=Math.floor(r),c.row=i,c.last=s==e.length-1}}function r(e,t,n){return t*(n.length-1)+this.getRatios(n)*e}function u(e,t,n){return e/this.getRatios(n)+t*(n.length-1)}function a(e){for(var t=this,n=0,i=0;i<e.length;i++)n+=t.getImageRatio(e[i]);return n}function l(e){return Number(e.tWidth)/Number(e.tHeight)}function s(e,t,n){var i=n-t,o=i/e.length;return o}e.organize=t,e.organizeSquare=n,e.organizeNatural=i,e.computeSizes=o,e.getRowWidth=r,e.getRowHeight=u,e.getRatios=a,e.getImageRatio=l,e.apportionExcess=s}(t=e.Organizer||(e.Organizer={}))}(t=e.Gallery||(e.Gallery={}))}(i||(i={}));var i;!function(e){var t;!function(e){var t;!function(e){function t(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("viewBox","0 0 100 100"),t.innerHTML='<use xlink:href="#'+e+'"></use>',t}function n(e,t){if(e&&t){var n=e.className,i=n.indexOf(t);i==-1?e.className+=" "+t:this.removeClass(e,t)}}function i(e,t){var n=e.className.indexOf(t);n>-1&&(e.className=e.className.substr(0,n)+e.className.substr(n+t.length))}function o(e,t){var n=e.className.indexOf(t);n==-1&&(e.className+=" "+t)}function r(e){for(var t=0;t<s.length;t++)e=e.replace(s[t].letters,s[t].base);return e}function u(e,t){var n=[];return e.forEach(function(e){var i=n.some(function(n){return e[t]==n[t]});i||n.push(e)}),n}function a(e,t,n){var i=[];return e.forEach(function(e){var o=t.some(function(t){return e[n]==t[n]});o||i.push(e)}),i}function l(e,t,n){var i=[];return e.forEach(function(e){var o=t.some(function(t){return e[n]==t[n]});o&&i.push(e)}),i}e.getIcon=t,e.toggleClass=n,e.removeClass=i,e.addClass=o,e.removeDiacritics=r,e.uniqBy=u,e.differenceBy=a,e.intersectionBy=l;var s=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}]}(t=e.Utility||(e.Utility={}))}(t=e.Gallery||(e.Gallery={}))}(i||(i={}));var i;!function(e){var t;!function(e){var t=function(){function e(e){this.header=e,this._collection=null}return e.prototype.isActive=function(){return null!==this.collection},Object.defineProperty(e.prototype,"collection",{get:function(){return this._collection},set:function(e){this._collection=e},enumerable:!0,configurable:!0}),e}();e.AbstractFilter=t}(t=e.Gallery||(e.Gallery={}))}(i||(i={}));var i;!function(e){var t;!function(e){var t=function(){function t(e,t,n){this.filter=n,this._isActive=!0,this.id=e,this.title=t}return t.prototype.render=function(){var t=this;this.element=document.createElement("label"),this.element.setAttribute("data-id",String(this.id));var n=document.createElement("input");n.setAttribute("type","checkbox"),n.setAttribute("checked","checked"),n.addEventListener("change",function(){t.isActive=!t.isActive,t.filter.filter()}),this.element.appendChild(n);var i=document.createElement("span");i.textContent=this.title;var o=document.createElement("span");e.Utility.addClass(o,"label"),o.appendChild(e.Utility.getIcon("icon-category")),o.appendChild(i),this.element.appendChild(o);var r=document.createElement("span");return e.Utility.addClass(r,"bar"),this.element.appendChild(r),this.element},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){this._title=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},set:function(e){this._isActive=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(e){this._element=e},enumerable:!0,configurable:!0}),t}();e.Category=t}(t=e.Gallery||(e.Gallery={}))}(i||(i={}));var i;!function(e){var t;!function(e){var t=function(t){function n(e){var n=t.call(this,e)||this;return n.header=e,n._categories=[],n}return o(n,t),Object.defineProperty(n.prototype,"element",{get:function(){return this._element},set:function(e){this._element=e},enumerable:!0,configurable:!0}),n.prototype.render=function(){if(this.prepare(),!this.element){this.element=document.createElement("div"),e.Utility.addClass(this.element,"natural-gallery-categories sectionContainer");var t=document.createElement("div");e.Utility.addClass(t,"sectionName"),t.textContent="Categories",this.element.appendChild(t)}var n=this.element.getElementsByTagName("label")[0];return n&&n.parentNode.removeChild(n),this.categories.forEach(function(e){this.element.appendChild(e.render())},this),this.element},n.prototype.prepare=function(){var t=[];this.header.gallery.categories.forEach(function(n){t.push(new e.Category(n.id,n.title,this))},this),this.none=new e.Category((-1),"None",this),this.others=new e.Category((-2),"Others",this),this.header.gallery.options.showNone&&t.length&&t.push(this.none),this.header.gallery.options.showOthers&&t.length&&t.push(this.others);var n=[];this.header.gallery.getOriginalCollection().forEach(function(i){(!i.categories||i.categories&&0===i.categories.length&&this.header.gallery.options.showNone)&&(i.categories=[this.none]),t.length&&e.Utility.differenceBy(i.categories,t,"id").length===i.categories.length&&this.header.gallery.options.showOthers&&(i.categories=[this.others]),i.categories.forEach(function(t){n.push(new e.Category(t.id,t.title,this))},this)},this),t=e.Utility.uniqBy(t,"id"),n=e.Utility.uniqBy(n,"id"),t.length?this.categories=e.Utility.intersectionBy(t,n,"id"):this.categories=n},n.prototype.filter=function(){var e=this.categories.filter(function(e){return e.isActive});if(e.length===this.categories.length)this.collection=null;else if(0===e.length)this.collection=[];else{var t=[];this.header.gallery.getOriginalCollection().forEach(function(n){!n.categories||n.categories&&0===n.categories.length?this.none&&t.push(n):n.categories.some(function(i){var o=e.some(function(e){return i.id===e.id});if(o)return t.push(n),!0})},this),this.collection=t}this.header.filter()},Object.defineProperty(n.prototype,"categories",{get:function(){return this._categories},set:function(e){this._categories=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"others",{get:function(){return this._others},set:function(e){this._others=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"none",{get:function(){return this._none},set:function(e){this._none=e},enumerable:!0,configurable:!0}),n}(e.AbstractFilter);e.CategoryFilter=t}(t=e.Gallery||(e.Gallery={}))}(i||(i={}));var i;!function(e){var t;!function(e){var t=function(){function t(e){this._collection=null,this._filters=[],this.gallery=e}return t.prototype.addFilter=function(e){this.filters.push(e)},t.prototype.refresh=function(){this.filters.forEach(function(e){e.render()})},t.prototype.render=function(){var t=document.createElement("div");e.Utility.addClass(t,"natural-gallery-images sectionContainer"),t.appendChild(e.Utility.getIcon("icon-pict"));var n=document.createElement("div");e.Utility.addClass(n,"sectionName"),n.textContent="Images",t.appendChild(n);var i=document.createElement("span");t.appendChild(i),e.Utility.addClass(i,"natural-gallery-visible");var o=document.createElement("span");o.textContent="/",t.appendChild(o);var r=document.createElement("span");return e.Utility.addClass(r,"natural-gallery-total"),t.appendChild(r),this.element=document.createElement("div"),this.filters.forEach(function(e){this.element.appendChild(e.render())},this),e.Utility.addClass(this.element,"natural-gallery-header"),this.element.appendChild(t),this.element},t.prototype.isFiltered=function(){return null!==this.collection},t.prototype.filter=function(){var t=null;this.filters.forEach(function(n){n.isActive()&&(t=null===t?n.collection:e.Utility.intersectionBy(t,n.collection,"id"))}),this.collection=t,this.gallery.refresh()},Object.defineProperty(t.prototype,"collection",{get:function(){return this._collection},set:function(e){this._collection=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(e){this._element=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gallery",{get:function(){return this._gallery},set:function(e){this._gallery=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this._filters},set:function(e){this._filters=e},enumerable:!0,configurable:!0}),t}();e.Header=t}(t=e.Gallery||(e.Gallery={}))}(i||(i={}));var i;!function(e){var t;!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(){var t=document.createElement("div");e.Utility.addClass(t,"natural-gallery-searchTerm sectionContainer"),t.appendChild(e.Utility.getIcon("icon-search")),t.appendChild(this.getInput());var n=document.createElement("label");e.Utility.addClass(n,"sectionName"),n.textContent="Search",t.appendChild(n);var i=document.createElement("span");return e.Utility.addClass(i,"bar"),t.appendChild(i),t},n.prototype.getInput=function(){var e=this,t=document.createElement("input");return t.setAttribute("required",""),t.addEventListener("keyup",function(t){var n=this;27==t.keyCode&&(n.value=""),e.filter(n.value)}),t},n.prototype.filter=function(t){this.collection=null;var n=e.Utility.removeDiacritics(t).toLowerCase();n.length>0&&(this.collection=[],this.header.gallery.getOriginalCollection().forEach(function(t){var i=e.Utility.removeDiacritics(t.title+" "+(t.description?t.description:"")).toLowerCase();i.search(n)!=-1&&this.collection.push(t)},this)),this.header.filter()},n}(e.AbstractFilter);e.SearchFilter=t}(t=e.Gallery||(e.Gallery={}))}(i||(i={}));var r=e("PhotoSwipe"),u=e("../node_modules/photoswipe/dist/photoswipe-ui-default");new i.Gallery.Controller},{"../node_modules/photoswipe/dist/photoswipe-ui-default":"/Users/sam/sites/rue-avenir.lan/htdocs/typo3conf/ext/natural_gallery/Resources/Public/natural-gallery-js/node_modules/photoswipe/dist/photoswipe-ui-default.js",PhotoSwipe:"/Users/sam/sites/rue-avenir.lan/htdocs/typo3conf/ext/natural_gallery/Resources/Public/natural-gallery-js/node_modules/PhotoSwipe/dist/photoswipe.js"}],"/Users/sam/sites/rue-avenir.lan/htdocs/typo3conf/ext/natural_gallery/Resources/Public/natural-gallery-js/node_modules/PhotoSwipe/dist/photoswipe.js":[function(e,t,n){!function(e,i){"function"==typeof define&&define.amd?define(i):"object"==typeof n?t.exports=i():e.PhotoSwipe=i()}(this,function(){"use strict";var e=function(e,t,n,i){var o={features:null,bind:function(e,t,n,i){var o=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var r=0;r<t.length;r++)t[r]&&e[o](t[r],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");
return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){o.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){o.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(o.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(o.features)return o.features;var e=o.createEl(),t=e.style,n="",i={};if(i.oldIE=document.all&&!document.addEventListener,i.touch="ontouchstart"in window,window.requestAnimationFrame&&(i.raf=window.requestAnimationFrame,i.caf=window.cancelAnimationFrame),i.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!i.pointerEvent){var r=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var u=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);u&&u.length>0&&(u=parseInt(u[1],10),u>=1&&u<8&&(i.isOldIOSPhone=!0))}var a=r.match(/Android\s([0-9\.]*)/),l=a?a[1]:0;l=parseFloat(l),l>=1&&(l<4.4&&(i.isOldAndroid=!0),i.androidVersion=l),i.isMobileOpera=/opera mini|opera mobi/i.test(r)}for(var s,c,d=["transform","perspective","animationName"],p=["","webkit","Moz","ms","O"],h=0;h<4;h++){n=p[h];for(var f=0;f<3;f++)s=d[f],c=n+(n?s.charAt(0).toUpperCase()+s.slice(1):s),!i[s]&&c in t&&(i[s]=c);n&&!i.raf&&(n=n.toLowerCase(),i.raf=window[n+"RequestAnimationFrame"],i.raf&&(i.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}if(!i.raf){var m=0;i.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-m)),i=window.setTimeout(function(){e(t+n)},n);return m=t+n,i},i.caf=function(e){clearTimeout(e)}}return i.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=i,i}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(e,t,n,i){t=t.split(" ");for(var o,r=(i?"detach":"attach")+"Event",u=function(){n.handleEvent.call(n)},a=0;a<t.length;a++)if(o=t[a])if("object"==typeof n&&n.handleEvent){if(i){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=u;e[r]("on"+o,n["oldIE"+o])}else e[r]("on"+o,n)});var r=this,u=25,a=3,l={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};o.extend(l,i);var s,c,d,p,h,f,m,g,y,E,v,b,w,C,x,F,A,D,_,I,O,T,B,S,P,M,R,k,L,U,N,z,Z,j,H,G,W,K,q,Y,V,X,J,$,Q,ee,te,ne,ie,oe,re,ue,ae,le,se,ce,de=function(){return{x:0,y:0}},pe=de(),he=de(),fe=de(),me={},ge=0,ye={},Ee=de(),ve=0,be=!0,we=[],Ce={},xe=!1,Fe=function(e,t){o.extend(r,t.publicMethods),we.push(e)},Ae=function(e){var t=Qt();return e>t-1?e-t:e<0?t+e:e},De={},_e=function(e,t){return De[e]||(De[e]=[]),De[e].push(t)},Ie=function(e){var t=De[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(r,n)}},Oe=function(){return(new Date).getTime()},Te=function(e){le=e,r.bg.style.opacity=e*l.bgOpacity},Be=function(e,t,n,i,o){(!xe||o&&o!==r.currItem)&&(i/=o?o.fitRatio:r.currItem.fitRatio),e[T]=b+t+"px, "+n+"px"+w+" scale("+i+")"},Se=function(e){ie&&(e&&(E>r.currItem.fitRatio?xe||(pn(r.currItem,!1,!0),xe=!0):xe&&(pn(r.currItem),xe=!1)),Be(ie,fe.x,fe.y,E))},Pe=function(e){e.container&&Be(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Me=function(e,t){t[T]=b+e+"px, 0px"+w},Re=function(e,t){if(!l.loop&&t){var n=p+(Ee.x*ge-e)/Ee.x,i=Math.round(e-Et.x);(n<0&&i>0||n>=Qt()-1&&i<0)&&(e=Et.x+i*l.mainScrollEndFriction)}Et.x=e,Me(e,h)},ke=function(e,t){var n=vt[e]-ye[e];return he[e]+pe[e]+n-n*(t/v)},Le=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Ue=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Ne=null,ze=function(){Ne&&(o.unbind(document,"mousemove",ze),o.addClass(e,"pswp--has_mouse"),l.mouseUsed=!0,Ie("mouseUsed")),Ne=setTimeout(function(){Ne=null},100)},Ze=function(){o.bind(document,"keydown",r),N.transform&&o.bind(r.scrollWrap,"click",r),l.mouseUsed||o.bind(document,"mousemove",ze),o.bind(window,"resize scroll",r),Ie("bindEvents")},je=function(){o.unbind(window,"resize",r),o.unbind(window,"scroll",y.scroll),o.unbind(document,"keydown",r),o.unbind(document,"mousemove",ze),N.transform&&o.unbind(r.scrollWrap,"click",r),K&&o.unbind(window,m,r),Ie("unbindEvents")},He=function(e,t){var n=ln(r.currItem,me,e);return t&&(ne=n),n},Ge=function(e){return e||(e=r.currItem),e.initialZoomLevel},We=function(e){return e||(e=r.currItem),e.w>0?l.maxSpreadZoom:1},Ke=function(e,t,n,i){return i===r.currItem.initialZoomLevel?(n[e]=r.currItem.initialPosition[e],!0):(n[e]=ke(e,i),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},qe=function(){if(T){var t=N.perspective&&!S;return b="translate"+(t?"3d(":"("),void(w=N.perspective?", 0px)":")")}T="left",o.addClass(e,"pswp--ie"),Me=function(e,t){t.left=e+"px"},Pe=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,i=t*e.w,o=t*e.h;n.width=i+"px",n.height=o+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},Se=function(){if(ie){var e=ie,t=r.currItem,n=t.fitRatio>1?1:t.fitRatio,i=n*t.w,o=n*t.h;e.width=i+"px",e.height=o+"px",e.left=fe.x+"px",e.top=fe.y+"px"}}},Ye=function(e){var t="";l.escKey&&27===e.keyCode?t="close":l.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,r[t]()))},Ve=function(e){e&&(V||Y||oe||G)&&(e.preventDefault(),e.stopPropagation())},Xe=function(){r.setScrollOffset(0,o.getScrollY())},Je={},$e=0,Qe=function(e){Je[e]&&(Je[e].raf&&M(Je[e].raf),$e--,delete Je[e])},et=function(e){Je[e]&&Qe(e),Je[e]||($e++,Je[e]={})},tt=function(){for(var e in Je)Je.hasOwnProperty(e)&&Qe(e)},nt=function(e,t,n,i,o,r,u){var a,l=Oe();et(e);var s=function(){if(Je[e]){if(a=Oe()-l,a>=i)return Qe(e),r(n),void(u&&u());r((n-t)*o(a/i)+t),Je[e].raf=P(s)}};s()},it={shout:Ie,listen:_e,viewportSize:me,options:l,isMainScrollAnimating:function(){return oe},getZoomLevel:function(){return E},getCurrentIndex:function(){return p},isDragging:function(){return K},isZooming:function(){return Q},setScrollOffset:function(e,t){ye.x=e,U=ye.y=t,Ie("updateScrollOffset",ye)},applyZoomPan:function(e,t,n,i){fe.x=t,fe.y=n,E=e,Se(i)},init:function(){if(!s&&!c){var n;r.framework=o,r.template=e,r.bg=o.getChildByClass(e,"pswp__bg"),R=e.className,s=!0,N=o.detectFeatures(),P=N.raf,M=N.caf,T=N.transform,L=N.oldIE,r.scrollWrap=o.getChildByClass(e,"pswp__scroll-wrap"),r.container=o.getChildByClass(r.scrollWrap,"pswp__container"),h=r.container.style,r.itemHolders=F=[{el:r.container.children[0],wrap:0,index:-1},{el:r.container.children[1],wrap:0,index:-1},{el:r.container.children[2],wrap:0,index:-1}],F[0].el.style.display=F[2].el.style.display="none",qe(),y={resize:r.updateSize,scroll:Xe,keydown:Ye,click:Ve};var i=N.isOldIOSPhone||N.isOldAndroid||N.isMobileOpera;for(N.animationName&&N.transform&&!i||(l.showAnimationDuration=l.hideAnimationDuration=0),n=0;n<we.length;n++)r["init"+we[n]]();if(t){var u=r.ui=new t(r,o);u.init()}Ie("firstUpdate"),p=p||l.index||0,(isNaN(p)||p<0||p>=Qt())&&(p=0),r.currItem=$t(p),(N.isOldIOSPhone||N.isOldAndroid)&&(be=!1),e.setAttribute("aria-hidden","false"),l.modal&&(be?e.style.position="fixed":(e.style.position="absolute",e.style.top=o.getScrollY()+"px")),void 0===U&&(Ie("initialLayout"),U=k=o.getScrollY());var d="pswp--open ";for(l.mainClass&&(d+=l.mainClass+" "),l.showHideOpacity&&(d+="pswp--animate_opacity "),d+=S?"pswp--touch":"pswp--notouch",d+=N.animationName?" pswp--css_animation":"",d+=N.svg?" pswp--svg":"",o.addClass(e,d),r.updateSize(),f=-1,ve=null,n=0;n<a;n++)Me((n+f)*Ee.x,F[n].el.style);L||o.bind(r.scrollWrap,g,r),_e("initialZoomInEnd",function(){r.setContent(F[0],p-1),r.setContent(F[2],p+1),F[0].el.style.display=F[2].el.style.display="block",l.focus&&e.focus(),Ze()}),r.setContent(F[1],p),r.updateCurrItem(),Ie("afterInit"),be||(C=setInterval(function(){$e||K||Q||E!==r.currItem.initialZoomLevel||r.updateSize()},1e3)),o.addClass(e,"pswp--visible")}},close:function(){s&&(s=!1,c=!0,Ie("close"),je(),tn(r.currItem,null,!0,r.destroy))},destroy:function(){Ie("destroy"),Yt&&clearTimeout(Yt),e.setAttribute("aria-hidden","true"),e.className=R,C&&clearInterval(C),o.unbind(r.scrollWrap,g,r),o.unbind(window,"scroll",r),Ft(),tt(),De=null},panTo:function(e,t,n){n||(e>ne.min.x?e=ne.min.x:e<ne.max.x&&(e=ne.max.x),t>ne.min.y?t=ne.min.y:t<ne.max.y&&(t=ne.max.y)),fe.x=e,fe.y=t,Se()},handleEvent:function(e){e=e||window.event,y[e.type]&&y[e.type](e)},goTo:function(e){e=Ae(e);var t=e-p;ve=t,p=e,r.currItem=$t(p),ge-=t,Re(Ee.x*ge),tt(),oe=!1,r.updateCurrItem()},next:function(){r.goTo(p+1)},prev:function(){r.goTo(p-1)},updateCurrZoomItem:function(e){if(e&&Ie("beforeChange",0),F[1].el.children.length){var t=F[1].el.children[0];ie=o.hasClass(t,"pswp__zoom-wrap")?t.style:null}else ie=null;ne=r.currItem.bounds,v=E=r.currItem.initialZoomLevel,fe.x=ne.center.x,fe.y=ne.center.y,e&&Ie("afterChange")},invalidateCurrItems:function(){x=!0;for(var e=0;e<a;e++)F[e].item&&(F[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==ve){var t,n=Math.abs(ve);if(!(e&&n<2)){r.currItem=$t(p),xe=!1,Ie("beforeChange",ve),n>=a&&(f+=ve+(ve>0?-a:a),n=a);for(var i=0;i<n;i++)ve>0?(t=F.shift(),F[a-1]=t,f++,Me((f+2)*Ee.x,t.el.style),r.setContent(t,p-n+i+1+1)):(t=F.pop(),F.unshift(t),f--,Me(f*Ee.x,t.el.style),r.setContent(t,p+n-i-1-1));if(ie&&1===Math.abs(ve)){var o=$t(A);o.initialZoomLevel!==E&&(ln(o,me),pn(o),Pe(o))}ve=0,r.updateCurrZoomItem(),A=p,Ie("afterChange")}}},updateSize:function(t){if(!be&&l.modal){var n=o.getScrollY();if(U!==n&&(e.style.top=n+"px",U=n),!t&&Ce.x===window.innerWidth&&Ce.y===window.innerHeight)return;Ce.x=window.innerWidth,Ce.y=window.innerHeight,e.style.height=Ce.y+"px"}if(me.x=r.scrollWrap.clientWidth,me.y=r.scrollWrap.clientHeight,Xe(),Ee.x=me.x+Math.round(me.x*l.spacing),Ee.y=me.y,Re(Ee.x*ge),Ie("beforeResize"),void 0!==f){for(var i,u,s,c=0;c<a;c++)i=F[c],Me((c+f)*Ee.x,i.el.style),s=p+c-1,l.loop&&Qt()>2&&(s=Ae(s)),u=$t(s),u&&(x||u.needsUpdate||!u.bounds)?(r.cleanSlide(u),r.setContent(i,s),1===c&&(r.currItem=u,r.updateCurrZoomItem(!0)),u.needsUpdate=!1):i.index===-1&&s>=0&&r.setContent(i,s),u&&u.container&&(ln(u,me),pn(u),Pe(u));x=!1}v=E=r.currItem.initialZoomLevel,ne=r.currItem.bounds,ne&&(fe.x=ne.center.x,fe.y=ne.center.y,Se(!0)),Ie("resize")},zoomTo:function(e,t,n,i,r){t&&(v=E,vt.x=Math.abs(t.x)-fe.x,vt.y=Math.abs(t.y)-fe.y,Le(he,fe));var u=He(e,!1),a={};Ke("x",u,a,e),Ke("y",u,a,e);var l=E,s={x:fe.x,y:fe.y};Ue(a);var c=function(t){1===t?(E=e,fe.x=a.x,fe.y=a.y):(E=(e-l)*t+l,fe.x=(a.x-s.x)*t+s.x,fe.y=(a.y-s.y)*t+s.y),r&&r(t),Se(1===t)};n?nt("customZoomTo",0,1,n,i||o.easing.sine.inOut,c):c(1)}},ot=30,rt=10,ut={},at={},lt={},st={},ct={},dt=[],pt={},ht=[],ft={},mt=0,gt=de(),yt=0,Et=de(),vt=de(),bt=de(),wt=function(e,t){return e.x===t.x&&e.y===t.y},Ct=function(e,t){return Math.abs(e.x-t.x)<u&&Math.abs(e.y-t.y)<u},xt=function(e,t){return ft.x=Math.abs(e.x-t.x),ft.y=Math.abs(e.y-t.y),Math.sqrt(ft.x*ft.x+ft.y*ft.y)},Ft=function(){X&&(M(X),X=null)},At=function(){K&&(X=P(At),Zt())},Dt=function(){return!("fit"===l.scaleMode&&E===r.currItem.initialZoomLevel)},_t=function(e,t){return!(!e||e===document)&&(!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:_t(e.parentNode,t)))},It={},Ot=function(e,t){return It.prevent=!_t(e.target,l.isClickableElement),Ie("preventDragEvent",e,t,It),It.prevent},Tt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Bt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},St=function(e,t,n){if(e-Z>50){var i=ht.length>2?ht.shift():{};i.x=t,i.y=n,ht.push(i),Z=e}},Pt=function(){var e=fe.y-r.currItem.initialPosition.y;return 1-Math.abs(e/(me.y/2))},Mt={},Rt={},kt=[],Lt=function(e){for(;kt.length>0;)kt.pop();return B?(ce=0,dt.forEach(function(e){0===ce?kt[0]=e:1===ce&&(kt[1]=e),ce++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(kt[0]=Tt(e.touches[0],Mt),e.touches.length>1&&(kt[1]=Tt(e.touches[1],Rt))):(Mt.x=e.pageX,Mt.y=e.pageY,Mt.id="",kt[0]=Mt),kt},Ut=function(e,t){var n,i,o,u,a=0,s=fe[e]+t[e],c=t[e]>0,d=Et.x+t.x,p=Et.x-pt.x;return n=s>ne.min[e]||s<ne.max[e]?l.panEndFriction:1,s=fe[e]+t[e]*n,!l.allowPanToNext&&E!==r.currItem.initialZoomLevel||(ie?"h"!==re||"x"!==e||Y||(c?(s>ne.min[e]&&(n=l.panEndFriction,a=ne.min[e]-s,i=ne.min[e]-he[e]),(i<=0||p<0)&&Qt()>1?(u=d,p<0&&d>pt.x&&(u=pt.x)):ne.min.x!==ne.max.x&&(o=s)):(s<ne.max[e]&&(n=l.panEndFriction,a=s-ne.max[e],i=he[e]-ne.max[e]),(i<=0||p>0)&&Qt()>1?(u=d,p>0&&d<pt.x&&(u=pt.x)):ne.min.x!==ne.max.x&&(o=s))):u=d,"x"!==e)?void(oe||J||E>r.currItem.fitRatio&&(fe[e]+=t[e]*n)):(void 0!==u&&(Re(u,!0),J=u!==pt.x),ne.min.x!==ne.max.x&&(void 0!==o?fe.x=o:J||(fe.x+=t.x*n)),void 0!==u)},Nt=function(e){if(!("mousedown"===e.type&&e.button>0)){if(Jt)return void e.preventDefault();if(!W||"mousedown"!==e.type){if(Ot(e,!0)&&e.preventDefault(),Ie("pointerDown"),B){var t=o.arraySearch(dt,e.pointerId,"id");t<0&&(t=dt.length),dt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=Lt(e),i=n.length;$=null,tt(),K&&1!==i||(K=ue=!0,o.bind(window,m,r),H=se=ae=G=J=V=q=Y=!1,re=null,Ie("firstTouchStart",n),Le(he,fe),pe.x=pe.y=0,Le(st,n[0]),Le(ct,st),pt.x=Ee.x*ge,ht=[{x:st.x,y:st.y}],Z=z=Oe(),He(E,!0),Ft(),At()),!Q&&i>1&&!oe&&!J&&(v=E,Y=!1,Q=q=!0,pe.y=pe.x=0,Le(he,fe),Le(ut,n[0]),Le(at,n[1]),Bt(ut,at,bt),vt.x=Math.abs(bt.x)-fe.x,vt.y=Math.abs(bt.y)-fe.y,ee=te=xt(ut,at))}}},zt=function(e){if(e.preventDefault(),B){var t=o.arraySearch(dt,e.pointerId,"id");if(t>-1){var n=dt[t];n.x=e.pageX,n.y=e.pageY}}if(K){var i=Lt(e);if(re||V||Q)$=i;else if(Et.x!==Ee.x*ge)re="h";else{var r=Math.abs(i[0].x-st.x)-Math.abs(i[0].y-st.y);Math.abs(r)>=rt&&(re=r>0?"h":"v",$=i)}}},Zt=function(){if($){var e=$.length;if(0!==e)if(Le(ut,$[0]),lt.x=ut.x-st.x,lt.y=ut.y-st.y,Q&&e>1){if(st.x=ut.x,st.y=ut.y,!lt.x&&!lt.y&&wt($[1],at))return;Le(at,$[1]),Y||(Y=!0,Ie("zoomGestureStarted"));var t=xt(ut,at),n=Kt(t);n>r.currItem.initialZoomLevel+r.currItem.initialZoomLevel/15&&(se=!0);var i=1,o=Ge(),u=We();if(n<o)if(l.pinchToClose&&!se&&v<=r.currItem.initialZoomLevel){var a=o-n,s=1-a/(o/1.2);Te(s),Ie("onPinchClose",s),ae=!0}else i=(o-n)/o,i>1&&(i=1),n=o-i*(o/3);else n>u&&(i=(n-u)/(6*o),i>1&&(i=1),n=u+i*o);i<0&&(i=0),ee=t,Bt(ut,at,gt),pe.x+=gt.x-bt.x,pe.y+=gt.y-bt.y,Le(bt,gt),fe.x=ke("x",n),fe.y=ke("y",n),H=n>E,E=n,Se()}else{if(!re)return;if(ue&&(ue=!1,Math.abs(lt.x)>=rt&&(lt.x-=$[0].x-ct.x),Math.abs(lt.y)>=rt&&(lt.y-=$[0].y-ct.y)),st.x=ut.x,st.y=ut.y,0===lt.x&&0===lt.y)return;if("v"===re&&l.closeOnVerticalDrag&&!Dt()){pe.y+=lt.y,fe.y+=lt.y;var c=Pt();return G=!0,Ie("onVerticalDrag",c),Te(c),void Se()}St(Oe(),ut.x,ut.y),V=!0,ne=r.currItem.bounds;var d=Ut("x",lt);d||(Ut("y",lt),Ue(fe),Se())}}},jt=function(e){if(N.isOldAndroid){if(W&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(W),W=setTimeout(function(){W=0},600))}Ie("pointerUp"),Ot(e,!1)&&e.preventDefault();var t;if(B){var n=o.arraySearch(dt,e.pointerId,"id");if(n>-1)if(t=dt.splice(n,1)[0],navigator.pointerEnabled)t.type=e.pointerType||"mouse";else{var i={4:"mouse",2:"touch",3:"pen"};t.type=i[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}}var u,a=Lt(e),s=a.length;if("mouseup"===e.type&&(s=0),2===s)return $=null,!0;1===s&&Le(ct,a[0]),0!==s||re||oe||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Ie("touchRelease",e,t));var c=-1;if(0===s&&(K=!1,o.unbind(window,m,r),Ft(),Q?c=0:yt!==-1&&(c=Oe()-yt)),yt=1===s?Oe():-1,u=c!==-1&&c<150?"zoom":"swipe",Q&&s<2&&(Q=!1,1===s&&(u="zoomPointerUp"),Ie("zoomGestureEnded")),$=null,V||Y||oe||G)if(tt(),j||(j=Ht()),j.calculateSwipeSpeed("x"),G){var d=Pt();if(d<l.verticalDragRange)r.close();else{var p=fe.y,h=le;nt("verticalDrag",0,1,300,o.easing.cubic.out,function(e){fe.y=(r.currItem.initialPosition.y-p)*e+p,Te((1-h)*e+h),Se()}),Ie("onVerticalDrag",1)}}else{if((J||oe)&&0===s){var f=Wt(u,j);if(f)return;u="zoomPointerUp"}if(!oe)return"swipe"!==u?void qt():void(!J&&E>r.currItem.fitRatio&&Gt(j))}},Ht=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(i){ht.length>1?(e=Oe()-Z+50,t=ht[ht.length-2][i]):(e=Oe()-z,t=ct[i]),n.lastFlickOffset[i]=st[i]-t,n.lastFlickDist[i]=Math.abs(n.lastFlickOffset[i]),n.lastFlickDist[i]>20?n.lastFlickSpeed[i]=n.lastFlickOffset[i]/e:n.lastFlickSpeed[i]=0,Math.abs(n.lastFlickSpeed[i])<.1&&(n.lastFlickSpeed[i]=0),n.slowDownRatio[i]=.95,n.slowDownRatioReverse[i]=1-n.slowDownRatio[i],n.speedDecelerationRatio[i]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(fe[e]>ne.min[e]?n.backAnimDestination[e]=ne.min[e]:fe[e]<ne.max[e]&&(n.backAnimDestination[e]=ne.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,nt("bounceZoomPan"+e,fe[e],n.backAnimDestination[e],t||300,o.easing.sine.out,function(t){fe[e]=t,Se()}))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,fe[e]+=n.distanceOffset[e])},panAnimLoop:function(){if(Je.zoomPan&&(Je.zoomPan.raf=P(n.panAnimLoop),n.now=Oe(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),Se(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return fe.x=Math.round(fe.x),fe.y=Math.round(fe.y),Se(),void Qe("zoomPan")}};return n},Gt=function(e){return e.calculateSwipeSpeed("y"),ne=r.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(et("zoomPan"),e.lastNow=Oe(),void e.panAnimLoop())},Wt=function(e,t){var n;oe||(mt=p);var i;if("swipe"===e){var u=st.x-ct.x,a=t.lastFlickDist.x<10;u>ot&&(a||t.lastFlickOffset.x>20)?i=-1:u<-ot&&(a||t.lastFlickOffset.x<-20)&&(i=1)}var s;i&&(p+=i,p<0?(p=l.loop?Qt()-1:0,s=!0):p>=Qt()&&(p=l.loop?0:Qt()-1,s=!0),s&&!l.loop||(ve+=i,ge-=i,n=!0));var c,d=Ee.x*ge,h=Math.abs(d-Et.x);return n||d>Et.x==t.lastFlickSpeed.x>0?(c=Math.abs(t.lastFlickSpeed.x)>0?h/Math.abs(t.lastFlickSpeed.x):333,c=Math.min(c,400),c=Math.max(c,250)):c=333,mt===p&&(n=!1),oe=!0,Ie("mainScrollAnimStart"),nt("mainScroll",Et.x,d,c,o.easing.cubic.out,Re,function(){tt(),oe=!1,mt=-1,(n||mt!==p)&&r.updateCurrItem(),Ie("mainScrollAnimComplete")}),n&&r.updateCurrItem(!0),n},Kt=function(e){return 1/te*e*v},qt=function(){var e=E,t=Ge(),n=We();E<t?e=t:E>n&&(e=n);var i,u=1,a=le;return ae&&!H&&!se&&E<t?(r.close(),!0):(ae&&(i=function(e){Te((u-a)*e+a)}),r.zoomTo(e,0,200,o.easing.cubic.out,i),!0)};Fe("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,i,o){D=e+t,_=e+n,I=e+i,O=o?e+o:""};B=N.pointerEvent,B&&N.touch&&(N.touch=!1),B?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):N.touch?(e("touch","start","move","end","cancel"),S=!0):e("mouse","down","move","up"),m=_+" "+I+" "+O,g=D,B&&!S&&(S=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),r.likelyTouchDevice=S,y[D]=Nt,y[_]=zt,y[I]=jt,O&&(y[O]=y[I]),N.touch&&(g+=" mousedown",m+=" mousemove mouseup",y.mousedown=y[D],y.mousemove=y[_],y.mouseup=y[I]),S||(l.allowPanToNext=!1)}}});var Yt,Vt,Xt,Jt,$t,Qt,en,tn=function(t,n,i,u){Yt&&clearTimeout(Yt),Jt=!0,Xt=!0;var a;t.initialLayout?(a=t.initialLayout,t.initialLayout=null):a=l.getThumbBoundsFn&&l.getThumbBoundsFn(p);var s=i?l.hideAnimationDuration:l.showAnimationDuration,c=function(){Qe("initialZoom"),i?(r.template.removeAttribute("style"),r.bg.removeAttribute("style")):(Te(1),n&&(n.style.display="block"),o.addClass(e,"pswp--animated-in"),Ie("initialZoom"+(i?"OutEnd":"InEnd"))),u&&u(),Jt=!1};if(!s||!a||void 0===a.x)return Ie("initialZoom"+(i?"Out":"In")),E=t.initialZoomLevel,Le(fe,t.initialPosition),Se(),e.style.opacity=i?0:1,Te(1),void(s?setTimeout(function(){c()},s):c());var h=function(){var n=d,u=!r.currItem.src||r.currItem.loadError||l.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),i||(E=a.w/t.w,fe.x=a.x,fe.y=a.y-k,r[u?"template":"bg"].style.opacity=.001,Se()),et("initialZoom"),i&&!n&&o.removeClass(e,"pswp--animated-in"),u&&(i?o[(n?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){o.addClass(e,"pswp--animate_opacity")},30)),Yt=setTimeout(function(){if(Ie("initialZoom"+(i?"Out":"In")),i){var r=a.w/t.w,l={x:fe.x,y:fe.y},d=E,p=le,h=function(t){1===t?(E=r,fe.x=a.x,fe.y=a.y-U):(E=(r-d)*t+d,fe.x=(a.x-l.x)*t+l.x,fe.y=(a.y-U-l.y)*t+l.y),Se(),u?e.style.opacity=1-t:Te(p-t*p)};n?nt("initialZoom",0,1,s,o.easing.cubic.out,h,c):(h(1),Yt=setTimeout(c,s+20))}else E=t.initialZoomLevel,Le(fe,t.initialPosition),Se(),Te(1),u?e.style.opacity=1:Te(1),Yt=setTimeout(c,s+20)},i?25:90)};h()},nn={},on=[],rn={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Vt.length}},un=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},an=function(e,t,n){var i=e.bounds;i.center.x=Math.round((nn.x-t)/2),i.center.y=Math.round((nn.y-n)/2)+e.vGap.top,i.max.x=t>nn.x?Math.round(nn.x-t):i.center.x,i.max.y=n>nn.y?Math.round(nn.y-n)+e.vGap.top:i.center.y,i.min.x=t>nn.x?0:i.center.x,i.min.y=n>nn.y?e.vGap.top:i.center.y},ln=function(e,t,n){if(e.src&&!e.loadError){var i=!n;if(i&&(e.vGap||(e.vGap={top:0,bottom:0}),Ie("parseVerticalMargin",e)),nn.x=t.x,nn.y=t.y-e.vGap.top-e.vGap.bottom,i){var o=nn.x/e.w,r=nn.y/e.h;e.fitRatio=o<r?o:r;var u=l.scaleMode;"orig"===u?n=1:"fit"===u&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds=un())}if(!n)return;return an(e,e.w*n,e.h*n),i&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=un(),e.initialPosition=e.bounds.center,e.bounds},sn=function(e,t,n,i,o,u){t.loadError||i&&(t.imageAppended=!0,pn(t,i,t===r.currItem&&xe),n.appendChild(i),u&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},cn=function(e){e.loading=!0,e.loaded=!1;var t=e.img=o.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},dn=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=l.errorMsg.replace("%url%",e.src),!0},pn=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var i=n?e.w:Math.round(e.w*e.fitRatio),o=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=o+"px"),t.style.width=i+"px",t.style.height=o+"px"}},hn=function(){if(on.length){for(var e,t=0;t<on.length;t++)e=on[t],e.holder.index===e.index&&sn(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);on=[]}};Fe("Controller",{publicMethods:{lazyLoadItem:function(e){e=Ae(e);var t=$t(e);t&&(!t.loaded&&!t.loading||x)&&(Ie("gettingData",e,t),t.src&&cn(t))},initController:function(){o.extend(l,rn,!0),r.items=Vt=n,$t=r.getItemAt,Qt=l.getNumItemsFn,en=l.loop,Qt()<3&&(l.loop=!1),_e("beforeChange",function(e){var t,n=l.preload,i=null===e||e>=0,o=Math.min(n[0],Qt()),u=Math.min(n[1],Qt());for(t=1;t<=(i?u:o);t++)r.lazyLoadItem(p+t);for(t=1;t<=(i?o:u);t++)r.lazyLoadItem(p-t)}),_e("initialLayout",function(){r.currItem.initialLayout=l.getThumbBoundsFn&&l.getThumbBoundsFn(p)}),_e("mainScrollAnimComplete",hn),_e("initialZoomInEnd",hn),_e("destroy",function(){for(var e,t=0;t<Vt.length;t++)e=Vt[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);on=null})},getItemAt:function(e){return e>=0&&(void 0!==Vt[e]&&Vt[e])},allowProgressiveImg:function(){return l.forceProgressiveLoading||!S||l.mouseUsed||screen.width>1200},setContent:function(e,t){l.loop&&(t=Ae(t));var n=r.getItemAt(e.index);n&&(n.container=null);var i,u=r.getItemAt(t);if(!u)return void(e.el.innerHTML="");Ie("gettingData",t,u),e.index=t,e.item=u;var a=u.container=o.createEl("pswp__zoom-wrap");if(!u.src&&u.html&&(u.html.tagName?a.appendChild(u.html):a.innerHTML=u.html),dn(u),ln(u,me),!u.src||u.loadError||u.loaded)u.src&&!u.loadError&&(i=o.createEl("pswp__img","img"),i.style.opacity=1,i.src=u.src,pn(u,i),sn(t,u,a,i,!0));else{if(u.loadComplete=function(n){if(s){if(e&&e.index===t){if(dn(n,!0))return n.loadComplete=n.img=null,ln(n,me),Pe(n),void(e.index===p&&r.updateCurrZoomItem());n.imageAppended?!Jt&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):N.transform&&(oe||Jt)?on.push({item:n,baseDiv:a,img:n.img,index:t,holder:e,clearPlaceholder:!0}):sn(t,n,a,n.img,oe||Jt,!0)}n.loadComplete=null,n.img=null,Ie("imageLoadComplete",t,n)}},o.features.transform){var c="pswp__img pswp__img--placeholder";c+=u.msrc?"":" pswp__img--placeholder--blank";var d=o.createEl(c,u.msrc?"img":"");u.msrc&&(d.src=u.msrc),pn(u,d),a.appendChild(d),u.placeholder=d}u.loading||cn(u),r.allowProgressiveImg()&&(!Xt&&N.transform?on.push({item:u,baseDiv:a,img:u.img,index:t,holder:e}):sn(t,u,a,u.img,!0,!0))}Xt||t!==p?Pe(u):(ie=a.style,tn(u,i||u.img)),e.el.innerHTML="",e.el.appendChild(a)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var fn,mn={},gn=function(e,t,n){var i=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(i)};Fe("Tap",{publicMethods:{initTap:function(){_e("firstTouchStart",r.onTapStart),_e("touchRelease",r.onTapRelease),_e("destroy",function(){mn={},fn=null})},onTapStart:function(e){e.length>1&&(clearTimeout(fn),fn=null)},onTapRelease:function(e,t){if(t&&!V&&!q&&!$e){var n=t;if(fn&&(clearTimeout(fn),fn=null,Ct(n,mn)))return void Ie("doubleTap",n);if("mouse"===t.type)return void gn(e,t,"mouse");var i=e.target.tagName.toUpperCase();if("BUTTON"===i||o.hasClass(e.target,"pswp__single-tap"))return void gn(e,t);Le(mn,n),fn=setTimeout(function(){gn(e,t),fn=null},300)}}}});var yn;Fe("DesktopZoom",{publicMethods:{initDesktopZoom:function(){L||(S?_e("mouseUsed",function(){r.setupDesktopZoom()}):r.setupDesktopZoom(!0))},setupDesktopZoom:function(t){yn={};var n="wheel mousewheel DOMMouseScroll";_e("bindEvents",function(){o.bind(e,n,r.handleMouseWheel)}),_e("unbindEvents",function(){yn&&o.unbind(e,n,r.handleMouseWheel)}),r.mouseZoomedIn=!1;var i,u=function(){r.mouseZoomedIn&&(o.removeClass(e,"pswp--zoomed-in"),r.mouseZoomedIn=!1),E<1?o.addClass(e,"pswp--zoom-allowed"):o.removeClass(e,"pswp--zoom-allowed"),a()},a=function(){i&&(o.removeClass(e,"pswp--dragging"),i=!1)};_e("resize",u),_e("afterChange",u),_e("pointerDown",function(){r.mouseZoomedIn&&(i=!0,o.addClass(e,"pswp--dragging"))}),_e("pointerUp",a),t||u()},handleMouseWheel:function(e){if(E<=r.currItem.fitRatio)return l.modal&&(!l.closeOnScroll||$e||K?e.preventDefault():T&&Math.abs(e.deltaY)>2&&(d=!0,r.close())),!0;if(e.stopPropagation(),yn.x=0,"deltaX"in e)1===e.deltaMode?(yn.x=18*e.deltaX,yn.y=18*e.deltaY):(yn.x=e.deltaX,yn.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(yn.x=-.16*e.wheelDeltaX),e.wheelDeltaY?yn.y=-.16*e.wheelDeltaY:yn.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;yn.y=e.detail}He(E,!0);var t=fe.x-yn.x,n=fe.y-yn.y;(l.modal||t<=ne.min.x&&t>=ne.max.x&&n<=ne.min.y&&n>=ne.max.y)&&e.preventDefault(),r.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:me.x/2+ye.x,y:me.y/2+ye.y};var n=l.getDoubleTapZoom(!0,r.currItem),i=E===n;r.mouseZoomedIn=!i,r.zoomTo(i?r.currItem.initialZoomLevel:n,t,333),o[(i?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var En,vn,bn,wn,Cn,xn,Fn,An,Dn,_n,In,On,Tn={history:!0,galleryUID:1},Bn=function(){return In.hash.substring(1)},Sn=function(){En&&clearTimeout(En),bn&&clearTimeout(bn)},Pn=function(){var e=Bn(),t={};if(e.length<5)return t;var n,i=e.split("&");for(n=0;n<i.length;n++)if(i[n]){var o=i[n].split("=");o.length<2||(t[o[0]]=o[1])}if(l.galleryPIDs){var r=t.pid;for(t.pid=0,n=0;n<Vt.length;n++)if(Vt[n].pid===r){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},Mn=function(){if(bn&&clearTimeout(bn),$e||K)return void(bn=setTimeout(Mn,500));wn?clearTimeout(vn):wn=!0;var e=p+1,t=$t(p);t.hasOwnProperty("pid")&&(e=t.pid);var n=Fn+"&gid="+l.galleryUID+"&pid="+e;An||In.hash.indexOf(n)===-1&&(_n=!0);var i=In.href.split("#")[0]+"#"+n;On?"#"+n!==window.location.hash&&history[An?"replaceState":"pushState"]("",document.title,i):An?In.replace(i):In.hash=n,An=!0,vn=setTimeout(function(){wn=!1},60)};Fe("History",{publicMethods:{initHistory:function(){if(o.extend(l,Tn,!0),l.history){In=window.location,_n=!1,Dn=!1,An=!1,Fn=Bn(),On="pushState"in history,Fn.indexOf("gid=")>-1&&(Fn=Fn.split("&gid=")[0],Fn=Fn.split("?gid=")[0]),_e("afterChange",r.updateURL),_e("unbindEvents",function(){o.unbind(window,"hashchange",r.onHashChange)});var e=function(){xn=!0,Dn||(_n?history.back():Fn?In.hash=Fn:On?history.pushState("",document.title,In.pathname+In.search):In.hash=""),Sn()};_e("unbindEvents",function(){d&&e()}),_e("destroy",function(){xn||e()}),_e("firstUpdate",function(){p=Pn().pid});var t=Fn.indexOf("pid=");t>-1&&(Fn=Fn.substring(0,t),"&"===Fn.slice(-1)&&(Fn=Fn.slice(0,-1))),setTimeout(function(){s&&o.bind(window,"hashchange",r.onHashChange)},40)}},onHashChange:function(){return Bn()===Fn?(Dn=!0,void r.close()):void(wn||(Cn=!0,r.goTo(Pn().pid),Cn=!1))},updateURL:function(){Sn(),Cn||(An?En=setTimeout(Mn,800):Mn())}}}),o.extend(r,it)};return e})},{}],"/Users/sam/sites/rue-avenir.lan/htdocs/typo3conf/ext/natural_gallery/Resources/Public/natural-gallery-js/node_modules/photoswipe/dist/photoswipe-ui-default.js":[function(e,t,n){!function(e,i){"function"==typeof define&&define.amd?define(i):"object"==typeof n?t.exports=i():e.PhotoSwipeUI_Default=i()}(this,function(){"use strict";var e=function(e,t){var n,i,o,r,u,a,l,s,c,d,p,h,f,m,g,y,E,v,b,w=this,C=!1,x=!0,F=!0,A={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,
clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},D=function(e){if(y)return!0;e=e||window.event,g.timeToIdle&&g.mouseUsed&&!c&&k();for(var n,i,o=e.target||e.srcElement,r=o.getAttribute("class")||"",u=0;u<G.length;u++)n=G[u],n.onTap&&r.indexOf("pswp__"+n.name)>-1&&(n.onTap(),i=!0);if(i){e.stopPropagation&&e.stopPropagation(),y=!0;var a=t.features.isOldAndroid?600:30;E=setTimeout(function(){y=!1},a)}},_=function(){return!e.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth},I=function(e,n,i){t[(i?"add":"remove")+"Class"](e,"pswp__"+n)},O=function(){var e=1===g.getNumItemsFn();e!==m&&(I(i,"ui--one-slide",e),m=e)},T=function(){I(l,"share-modal--hidden",F)},B=function(){return F=!F,F?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){F&&T()},300)):(T(),setTimeout(function(){F||t.addClass(l,"pswp__share-modal--fade-in")},30)),F||P(),!1},S=function(t){t=t||window.event;var n=t.target||t.srcElement;return e.shout("shareLinkClick",t,n),!!n.href&&(!!n.hasAttribute("download")||(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),F||B(),!1))},P=function(){for(var e,t,n,i,o,r="",u=0;u<g.shareButtons.length;u++)e=g.shareButtons[u],n=g.getImageURLForShare(e),i=g.getPageURLForShare(e),o=g.getTextForShare(e),t=e.url.replace("{{url}}",encodeURIComponent(i)).replace("{{image_url}}",encodeURIComponent(n)).replace("{{raw_image_url}}",n).replace("{{text}}",encodeURIComponent(o)),r+='<a href="'+t+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",g.parseShareButtonOut&&(r=g.parseShareButtonOut(e,r));l.children[0].innerHTML=r,l.children[0].onclick=S},M=function(e){for(var n=0;n<g.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+g.closeElClasses[n]))return!0},R=0,k=function(){clearTimeout(b),R=0,c&&w.setIdle(!1)},L=function(e){e=e?e:window.event;var t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(b),b=setTimeout(function(){w.setIdle(!0)},g.timeToIdleOutside))},U=function(){g.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=w.getFullscreenAPI()),n?(t.bind(document,n.eventK,w.updateFullscreen),w.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},N=function(){g.preloaderEl&&(z(!0),d("beforeChange",function(){clearTimeout(f),f=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&z(!1):z(!0)},g.loadingIndicatorDelay)}),d("imageLoadComplete",function(t,n){e.currItem===n&&z(!0)}))},z=function(e){h!==e&&(I(p,"preloader--active",!e),h=e)},Z=function(e){var n=e.vGap;if(_()){var u=g.barsSize;if(g.captionEl&&"auto"===u.bottom)if(r||(r=t.createEl("pswp__caption pswp__caption--fake"),r.appendChild(t.createEl("pswp__caption__center")),i.insertBefore(r,o),t.addClass(i,"pswp__ui--fit")),g.addCaptionHTMLFn(e,r,!0)){var a=r.clientHeight;n.bottom=parseInt(a,10)||44}else n.bottom=u.top;else n.bottom="auto"===u.bottom?0:u.bottom;n.top=u.top}else n.top=n.bottom=0},j=function(){g.timeToIdle&&d("mouseUsed",function(){t.bind(document,"mousemove",k),t.bind(document,"mouseout",L),v=setInterval(function(){R++,2===R&&w.setIdle(!0)},g.timeToIdle/2)})},H=function(){d("onVerticalDrag",function(e){x&&e<.95?w.hideControls():!x&&e>=.95&&w.showControls()});var e;d("onPinchClose",function(t){x&&t<.9?(w.hideControls(),e=!0):e&&!x&&t>.9&&w.showControls()}),d("zoomGestureEnded",function(){e=!1,e&&!x&&w.showControls()})},G=[{name:"caption",option:"captionEl",onInit:function(e){o=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){B()}},{name:"button--share",option:"shareEl",onInit:function(e){a=e},onTap:function(){B()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){u=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){p=e}}],W=function(){var e,n,o,r=function(i){if(i)for(var r=i.length,u=0;u<r;u++){e=i[u],n=e.className;for(var a=0;a<G.length;a++)o=G[a],n.indexOf("pswp__"+o.name)>-1&&(g[o.option]?(t.removeClass(e,"pswp__element--disabled"),o.onInit&&o.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};r(i.children);var u=t.getChildByClass(i,"pswp__top-bar");u&&r(u.children)};w.init=function(){t.extend(e.options,A,!0),g=e.options,i=t.getChildByClass(e.scrollWrap,"pswp__ui"),d=e.listen,H(),d("beforeChange",w.update),d("doubleTap",function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(g.getDoubleTapZoom(!1,e.currItem),t,333)}),d("preventDragEvent",function(e,t,n){var i=e.target||e.srcElement;i&&i.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(i.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)}),d("bindEvents",function(){t.bind(i,"pswpTap click",D),t.bind(e.scrollWrap,"pswpTap",w.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",w.onMouseOver)}),d("unbindEvents",function(){F||B(),v&&clearInterval(v),t.unbind(document,"mouseout",L),t.unbind(document,"mousemove",k),t.unbind(i,"pswpTap click",D),t.unbind(e.scrollWrap,"pswpTap",w.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",w.onMouseOver),n&&(t.unbind(document,n.eventK,w.updateFullscreen),n.isFullscreen()&&(g.hideAnimationDuration=0,n.exit()),n=null)}),d("destroy",function(){g.captionEl&&(r&&i.removeChild(r),t.removeClass(o,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(i,"pswp__ui--over-close"),t.addClass(i,"pswp__ui--hidden"),w.setIdle(!1)}),g.showAnimationDuration||t.removeClass(i,"pswp__ui--hidden"),d("initialZoomIn",function(){g.showAnimationDuration&&t.removeClass(i,"pswp__ui--hidden")}),d("initialZoomOut",function(){t.addClass(i,"pswp__ui--hidden")}),d("parseVerticalMargin",Z),W(),g.shareEl&&a&&l&&(F=!0),O(),j(),U(),N()},w.setIdle=function(e){c=e,I(i,"ui--idle",e)},w.update=function(){x&&e.currItem?(w.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(e.currItem,o),I(o,"caption--empty",!e.currItem.title)),C=!0):C=!1,F||B(),O()},w.updateFullscreen=function(i){i&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},w.updateIndexIndicator=function(){g.counterEl&&(u.innerHTML=e.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},w.onGlobalTap=function(n){n=n||window.event;var i=n.target||n.srcElement;if(!y)if(n.detail&&"mouse"===n.detail.pointerType){if(M(i))return void e.close();t.hasClass(i,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?g.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(g.tapToToggleControls&&(x?w.hideControls():w.showControls()),g.tapToClose&&(t.hasClass(i,"pswp__img")||M(i)))return void e.close()},w.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;I(i,"ui--over-close",M(t))},w.hideControls=function(){t.addClass(i,"pswp__ui--hidden"),x=!1},w.showControls=function(){x=!0,C||w.update(),t.removeClass(i,"pswp__ui--hidden")},w.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},w.getFullscreenAPI=function(){var t,n=document.documentElement,i="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:i}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+i}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+i}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return s=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return g.closeOnScroll=s,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}};return e})},{}]},{},["/Users/sam/sites/rue-avenir.lan/htdocs/typo3conf/ext/natural_gallery/Resources/Public/natural-gallery-js/cache/build.js"]);